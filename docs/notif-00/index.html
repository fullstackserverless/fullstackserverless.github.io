<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<title data-react-helmet="true">Push Notification with Amplify | Sumerian school</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Push Notification with Amplify | Sumerian school"><meta data-react-helmet="true" name="description" content="Push notifications play an essential role in any Application. It can considerably increase the user engagement, and it might be an asked feature from the end-user."><meta data-react-helmet="true" property="og:description" content="Push notifications play an essential role in any Application. It can considerably increase the user engagement, and it might be an asked feature from the end-user."><meta data-react-helmet="true" property="og:url" content="https://fullstackserverless.github.io/docs/notif-00"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://fullstackserverless.github.io/docs/notif-00"><link rel="stylesheet" href="/styles.8c566678.css">
<link rel="preload" href="/styles.27b723bc.js" as="script">
<link rel="preload" href="/runtime~main.4b19f06f.js" as="script">
<link rel="preload" href="/main.92fa72cf.js" as="script">
<link rel="preload" href="/1.ecb7a31a.js" as="script">
<link rel="preload" href="/2.a5b9cff6.js" as="script">
<link rel="preload" href="/1be78505.e74d1890.js" as="script">
<link rel="preload" href="/41.70b25afb.js" as="script">
<link rel="preload" href="/935f2afb.0e16e209.js" as="script">
<link rel="preload" href="/40.f3aed6ae.js" as="script">
<link rel="preload" href="/7be915c8.e45757d3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="React Native Village Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.png" alt="React Native Village Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Sumerian school</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/startup00">Tutorials</a><a href="https://www.patreon.com/fullstackserverless" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Patreon</a><a href="https://www.linkedin.com/in/raoffonom" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Author</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Vacancies</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fullstackserverless" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="React Native Village Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.png" alt="React Native Village Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Sumerian school</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/startup00">Tutorials</a></li><li class="menu__list-item"><a href="https://www.patreon.com/fullstackserverless" target="_blank" rel="noopener noreferrer" class="menu__link">Patreon</a></li><li class="menu__list-item"><a href="https://www.linkedin.com/in/raoffonom" target="_blank" rel="noopener noreferrer" class="menu__link">Author</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Vacancies</a></li><li class="menu__list-item"><a href="https://github.com/fullstackserverless" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Startup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startup00">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java Script</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/javascript00">Java Script Camp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">React Native</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/start03">ESLint &amp; Prettierrc</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Kit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unicorn00">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unicorn01">Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unicorn02">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Authentication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/auth1-00">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/auth1-01">Default setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/auth1-02">Custom setup</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AWS Amplify</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/amplify-00">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/amplify-01">Serverless</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/amplify-02">GraphQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/amplify-03">Amplify API  - AppSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/amplify-04">DataStore - CRUD</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/notif-00">Push Notification</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Push Notification with Amplify</h1></header><div class="markdown"><p>Push notifications play an essential role in any Application. It can considerably increase the user engagement, and it might be an asked feature from the end-user.</p><p><img alt="Push Notifications" src="/assets/images/00-bb54ea9c41331fb068a6a1494ebc205e.png"></p><p>Setting up a push notification from scratch can be a bit challenging. Fortunately, the Amplify provides the push notification services and SDK for our apps. In this tutorial, we learn how to integrate our app with this service.</p><p><img alt="Step01" src="/assets/images/01-a23cc15b10aa8903a2768742f2d5f639.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="create-a-new-project"></a>Create a new project<a class="hash-link" href="#create-a-new-project" title="Direct link to heading">#</a></h2><p>Whether you are going to implement only for IOS or Android, the following steps are required. If you are not working on a project, then the first step is creating one by the following command:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npx react-native init amplifyPush</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> amplifyPush</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Initialize our AWS Amplify project in the root directory.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">amplify init</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here is how the answers can be:</p><p><img alt="Initialize Amplify" src="/assets/images/notif_amplify_init-4e19e5008a62f73e98596743ac4d8438.png"></p><ul><li>Add the required dependencies with:</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --save aws-amplify @aws-amplify/pushnotification</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>or</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> aws-amplify @aws-amplify/pushnotification</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>You need to link the push notification dependency with:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">react-native </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> @aws-amplify/pushnotification</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>To prevent an <a href="https://github.com/aws-amplify/amplify-js/issues/5010" target="_blank" rel="noopener noreferrer">error</a> in the future add the <code>netinfo</code> library. You can add it to your project by the following command (in case your don&#x27;t have it):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --save @react-native-community/netinfo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> @react-native-community/netinfo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p><img alt="Step02" src="/assets/images/02-d8f056a9ee77817d5fa34ed27b8a9ded.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="android---setting-up-the-firebase"></a>Android - Setting up the Firebase<a class="hash-link" href="#android---setting-up-the-firebase" title="Direct link to heading">#</a></h3><ol><li>Open the <a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer">Firebase console</a>.</li><li>Open or create a project for further steps.</li><li>Select the <code>Cloud Messaging</code> in the dashboard.</li></ol><p><img alt="Cloud Messaging" src="/assets/images/notif_cloud_messaging-752f4b952cad0854bddffcdc314a8458.png"></p><ol start="4"><li>Click on the Android and follow the following steps:</li></ol><ul><li>Fill in the form and register the app. <code>Android package name</code> can be found in <code>android/app/build.gradle</code>. It is stored as <code>applicationId</code> like this:</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-java codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   gradle title</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;android/app/build.gradle&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      defaultConfig </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       applicationId </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.amplifypush&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ul><li>Download the config file to <code>android/app</code> directory of the project.</li><li>Add the Firebase SDK as the instructions. Consider the <code>&lt;project&gt;</code> the <code>android</code> and <code>&lt;app-module&gt;</code> the <code>app</code> directory in the react native project. Don&#x27;t forget to add the latest version of <code>firebase-messaging</code> from <a href="https://firebase.google.com/docs/android/setup#available-libraries" target="_blank" rel="noopener noreferrer">here</a> as well ad the <code>firebase-analytics</code> in <code>dependencies</code>.</li><li>Run the project in Android and you will see that the verification of Firebase. (you can skip this step)</li><li>Open the <code>android/app/src/main/AndroidManifest.xml</code> and add the following code in the <code>application</code> element:</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-java codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xml title</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;android/app/src/main/AndroidManifest.xml&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">START </span><span class="token class-name" style="color:rgb(255, 203, 107)">Push</span><span class="token plain"> notification config </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">START firebase_service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.amazonaws.amplify.pushnotification.RNPushNotificationMessagingService&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">intent</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">filter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">action android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.google.firebase.MESSAGING_EVENT&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">intent</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">filter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">service</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">END firebase_service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">START firebase_iid_service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.amazonaws.amplify.pushnotification.RNPushNotificationDeviceIDService&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">intent</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">filter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">action android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">intent</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">filter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">service</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">receiver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.amazonaws.amplify.pushnotification.modules.RNPushNotificationBroadcastReceiver&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">exported</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;false&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">intent</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">filter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">action android</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.amazonaws.amplify.pushnotification.NOTIFICATION_OPENED&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">intent</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">filter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">receiver</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">END </span><span class="token class-name" style="color:rgb(255, 203, 107)">Push</span><span class="token plain"> notification config </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><img alt="Step03" src="/assets/images/03-99e9f84b954c87f14c5b1c2a2fc7beb5.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="setting-up-the-amplify-for-fcm"></a>Setting up the Amplify for FCM<a class="hash-link" href="#setting-up-the-amplify-for-fcm" title="Direct link to heading">#</a></h2><ol><li>Add the push notification service to amplify by the following command in the project directory:</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> amplify </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> notifications</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="2"><li>Choose <code>FCM</code> when promoted:</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ? Choose the push notification channel to enable.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> APNS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ❯ FCM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Email</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> SMS</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="3"><li>Fill the pinpoint resource name (or just press enter without filling anything).</li><li>You will be asked for <code>ApiKey</code>. For getting that, you should do the following steps:</li></ol><ul><li>Open the <a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer">Firebase console</a> and open the app you created in previous steps.</li><li>Click on the gear icon in the <code>Project Overview</code> section of the dashboard and select the <code>Project settings</code>.</li></ul><p><img alt="Project settings" src="/assets/images/notif_project_settings-0de4e5b72abb577cd4454925e75e3913.png"></p><ul><li>Select the <code>Cloud Messaging</code> tab and copy the value of the <code>Server key</code>.</li></ul><p><img alt="Project settings" src="/assets/images/notif_api_key-272ca723ce4509852f36817b5648936c.png"></p><ol start="5"><li>Paste the value for requested <code>ApiKey</code>.</li><li>After the setup is completed, run the <code>amplify push</code> command.</li></ol><p><img alt="Step04" src="/assets/images/04-b7fa82403420155f5bc0c2e2b713251f.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ios---setup"></a>iOS - Setup<a class="hash-link" href="#ios---setup" title="Direct link to heading">#</a></h2><ol><li>Add the <code>@react-native-community/push-notification-ios</code> by the following command:</li></ol><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active">yarn</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39">npm</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> @react-native-community/push-notification-ios`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --save @react-native-community/push-notification-ios</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div></div>2. Run the following commands: ```bash cd ios &amp;&amp; pod install &amp;&amp; cd .. ``` 3. Add the notifications to the amply for iOS by `amplify add notifications` command:<div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1. Choose `APNS` when promoted:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ```bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ? Choose the push notification channel to enable.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &gt; APNS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FCM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Email</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    SMS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2. Then you will be prompted for the authentication method. It is recommended to choose the certificate.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ```bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">? Choose authentication method used for APNs (Use arrow keys)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Certificate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">3. If you have chosen the certificate, then you will be prompted for the .p12 certificate path file. (You can use this [tutorial](https://mobincube.zendesk.com/hc/en-us/articles/200511933-How-to-get-the-p12-file-and-provisioning-profile-for-publishing-an-app-on-App-Store) to get that).</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="4"><li><p>Run <code>amplify push</code>.</p></li><li><p>Open the <code>.xcworkspace</code> project with the XCode.</p></li><li><p>Select the project and select the project name in <code>TARGETS</code> section. Select the <code>Signing &amp; Capabilities</code> and press the <code>+</code> before the <code>Capability</code>. Choose <code>Background Mode - Remote Notifications</code>.</p></li></ol><p><img alt="Step05" src="/assets/images/05-1c1a60851841e4476b56c3edf139208b.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configure-app"></a>Configure App<a class="hash-link" href="#configure-app" title="Direct link to heading">#</a></h3><p>As it was told before, The <code>Analytics</code> should be integrated along with the notifications. It will help to track the notifications. Though it is possible to use custom properties, It is advised to use the <code>aws-exports</code> file.
in <code>App.js</code> file add the configuration as follow:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">Amplify</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aws-amplify&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">PushNotification</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@aws-amplify/pushnotification&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> awsconfig </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./aws-exports&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Amplify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">configure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">awsconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">configure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">awsconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><img alt="Step06" src="/assets/images/06-e6c67e52061de238f27f3c609644f4b9.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="working-with-api"></a>Working with API<a class="hash-link" href="#working-with-api" title="Direct link to heading">#</a></h2><p>Usually, what we want is sending push notifications to specific users for various purposes. The API gives us various methods for handling our users &amp; push notifications.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="onregister"></a>onRegister<a class="hash-link" href="#onregister" title="Direct link to heading">#</a></h2><p>Each device can be recognized by the push token by which you can specify the device you want to get a push notification. When the user opens the app for the first time, the pushed token is fetched and stored in the device. You should be aware of the fact this method may get called again in the future, so you should be prepared for this situation to update your data according to it.</p><p>You can add the following code in <code>App.js</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onRegister</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">token</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;in app registration&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">updateEndpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Attention</h5></div><div class="admonition-content"><p>There can be an issue in android that this method never be called! However a <a href="https://github.com/aws-amplify/amplify-js/issues/2643#issuecomment-523610933" target="_blank" rel="noopener noreferrer">workaround</a> can be like this anywhere you might need the token:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token maybe-class-name">NativeModules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react-native&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">NativeModules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">RNPushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">PushToken: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="onnotification"></a>onNotification<a class="hash-link" href="#onnotification" title="Direct link to heading">#</a></h2><p>In case you want to do something when the notification is recieved the <code>onNotification</code> method is for acting based on the recieved notification. Don&#x27;t forget to that the notification object structure is diffrent from Android and IOS. In IOS, You <a href="https://reactnative.dev/docs/pushnotificationios.html#finish" target="_blank" rel="noopener noreferrer">Should</a> use the <code>finish</code> method. You can add the following code to <code>App.js</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">PushNotificationIOS</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@react-native-community/push-notification-ios&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;in app notification&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">OS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ios&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">finish</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">PushNotificationIOS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">FetchResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">NoData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="onnotificationopened"></a>onNotificationOpened<a class="hash-link" href="#onnotificationopened" title="Direct link to heading">#</a></h2><p>A common scenario is reacting to when user opens a push notification (eg: opening a message etc). Whenever the user opens a push notification, the <code>onNotificationOpened</code> is called. The code can be in <code>App.js</code> as follow:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onNotificationOpened</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">notification</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;the notification is opened&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="requestiospermissions"></a>requestIOSPermissions<a class="hash-link" href="#requestiospermissions" title="Direct link to heading">#</a></h2><p>Push notification works only on a real device and it won&#x27;t recieve any notification unless the end user give the permission. The <code>requestIOSPermissions</code> is for getting this permission. It either can be called without any parameters, or you can customize by an object as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">requestIOSPermissions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// or</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">requestIOSPermissions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  badge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sound</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><img alt="Step07" src="/assets/images/07-8a3ce13813e6679ceb6d32560f619235.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing"></a>Testing<a class="hash-link" href="#testing" title="Direct link to heading">#</a></h2><p>First of all, we want to take a look at the <code>App.js</code> file. Though you can work with the API anywhere in your code, It can be something like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-js codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token maybe-class-name">SafeAreaView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">NativeModules</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react-native&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">PushNotificationIOS</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@react-native-community/push-notification-ios&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">Analytics</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@aws-amplify/analytics&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">Amplify</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aws-amplify&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">PushNotification</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@aws-amplify/pushnotification&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> awsconfig </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./aws-exports&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Amplify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">configure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">awsconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">configure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">awsconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onRegister</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token parameter">token</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;in app registration&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">updateEndpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// In case PushNotification.onRegister didn&#x27;t work</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">NativeModules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">RNPushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">token</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">PushToken: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">notification</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;in app notification&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">OS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ios&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">finish</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">PushNotificationIOS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">FetchResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">NoData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">onNotificationOpened</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">notification</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;the notification is opened&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> notification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> endpointId </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">Analytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getPluggable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AWSPinpoint&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">endpointId</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">endpoint ID: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">endpointId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">OS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ios&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">PushNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">requestIOSPermissions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">App</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">React$Node</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">SafeAreaView</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token maybe-class-name">Push</span><span class="token plain"> </span><span class="token maybe-class-name">Notification</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token maybe-class-name">SafeAreaView</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token maybe-class-name">App</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Now we run our program:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">react-native run-android</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>To go further, we need one of the <code>endpoint ID</code> or <code>Push Token</code>.
<a href="https://docs.aws.amazon.com/pinpoint/latest/apireference/apps-application-id-endpoints.html" target="_blank" rel="noopener noreferrer">Here</a> is an explanation of <code>endpoint</code> in <code>aws</code> services:</p><blockquote><p>An endpoint represents a destination that you can send messages to, such as a mobile device, email address, or phone number.</p></blockquote><p><code>Push Token</code> is a unique id, Which is generated and assigned by <code>GCM</code>(Android) or <code>APNS</code>(IOS) to your application in a specific device.</p><p>The most apparent difference between these two is that the <code>endpoint</code> is generated from <code>aws</code>, and defines the app in a device regardless of the platform(IOS/Android). But the push token is generated either by the <code>Apple</code> or <code>Google</code>, depending on the platform.</p><p>We use <code>console.log</code> to copy and keep these keys for the next steps. Go into the dev mode and copy the following values in your console:</p><p><img alt="Tokens" src="/assets/images/notif_console_tokens-a4351a223de2e813114b6fd87566012b.png"></p><p>Although there are multiple ways to send a test push notification to a specific device, We&#x27;re going to learn the easiest way possible.</p><ol><li>Run the following command in the root of the project:</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">amplify notification console</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="2"><li><p>The console of the app will be opened in the browser automatically.</p></li><li><p>Select the <code>Test messaging</code> in the left sidebar:</p></li></ol><p><img alt="Test messaging" src="/assets/images/notif_aws_notif_console-fa8d732c943d4c69b95281d5cae14e39.png"></p><ol start="4"><li><p>In the <code>Channel</code> section, select the <code>Push notifications</code>.</p></li><li><p>The <code>Destinations</code> section is as follow:</p></li></ol><p><img alt="Destinations" src="/assets/images/notif_testing_message_dest-e91e9ba133059cac3ec5ab177e277735.png"> 1. <code>Destination type</code> defines whether you want to use <code>Endpoint IDs</code> or <code>Device Tokens</code>(or <code>Push token</code> in previous steps) in the next text input. 2. Paste the token you want to use, Based on the selected <code>Destination type</code>. 3. If you have chosen the <code>Endpoint IDs</code> and used endpoint, then the <code>Push notifications service</code> can automatically detect your device. Otherwise, if you have used <code>Device token</code>, for IOS, choose the <code>APNS</code> and for Android choose the <code>FCM</code>.</p><ol start="6"><li>You can fill the <code>Message</code> section like below and press the <code>Send message</code> button.</li></ol><p><img alt="Destinations" src="/assets/images/notif_testing_message_message-c2adcea0a5845a100e5ca9c733a213e3.png"></p><ol start="7"><li>You will get a success message like below if everything is ok.</li></ol><p><img alt="Success" src="data:image/png;base64,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">
After a couple of seconds, You will see the push notification in your device:</p><p><img alt="Push notification result" src="/assets/images/notif_android_push_result-c84bb6e144fe1c6724329ec3f2ea82a4.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="done-"></a>Done ✅<a class="hash-link" href="#done-" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="references"></a>References:<a class="hash-link" href="#references" title="Direct link to heading">#</a></h2><p><a href="https://docs.amplify.aws/lib/push-notifications/getting-started/q/platform/js" target="_blank" rel="noopener noreferrer">Amplify Docs</a></p><p><a href="https://medium.com/@dantasfiles/setting-up-android-push-notifications-with-aws-amplify-e6334c6356d8" target="_blank" rel="noopener noreferrer">Setting up Android Push Notifications with AWS Amplify</a></p><p><a href="https://medium.com/@dantasfiles/testing-push-notifications-with-aws-amplify-9126bd621d3a" target="_blank" rel="noopener noreferrer">Testing Push Notifications with AWS Amplify &amp; CLI</a></p><p><a href="https://www.patreon.com/bePatron?u=34467235" target="_blank" rel="noopener noreferrer"><img alt="Become a Patron!" src="/assets/images/patreon-15b4e66595efdb2e079faf18b89cff7c.png"></a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/notif00.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/amplify-04"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« DataStore - CRUD (Create Read Update Delete)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-new-project" class="table-of-contents__link">Create a new project</a><ul><li><a href="#android---setting-up-the-firebase" class="table-of-contents__link">Android - Setting up the Firebase</a></li></ul></li><li><a href="#setting-up-the-amplify-for-fcm" class="table-of-contents__link">Setting up the Amplify for FCM</a></li><li><a href="#ios---setup" class="table-of-contents__link">iOS - Setup</a><ul><li><a href="#configure-app" class="table-of-contents__link">Configure App</a></li></ul></li><li><a href="#working-with-api" class="table-of-contents__link">Working with API</a></li><li><a href="#onregister" class="table-of-contents__link">onRegister</a></li><li><a href="#onnotification" class="table-of-contents__link">onNotification</a></li><li><a href="#onnotificationopened" class="table-of-contents__link">onNotificationOpened</a></li><li><a href="#requestiospermissions" class="table-of-contents__link">requestIOSPermissions</a></li><li><a href="#testing" class="table-of-contents__link">Testing</a></li><li><a href="#done-" class="table-of-contents__link">Done ✅</a></li><li><a href="#references" class="table-of-contents__link">References:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Tutorials</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/startup00">Startup</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/unicorn00">UI Kit</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/auth1-00">Authentication</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/amplify-00">AWS Amplify</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/Ntuttww" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://dev.to/playra" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev.to</a></li><li class="footer__item"><a href="https://twitter.com/koshasuperstar" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.patreon.com/fullstackserverless" target="_blank" rel="noopener noreferrer" class="footer__link-item">Patreon</a></li><li class="footer__item"><a href="https://github.com/fullstackserverless" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="Facebook Open Source Logo" src="/img/oss_logo.png"></a></div><div>Copyright © 2020 @playra. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.27b723bc.js"></script>
<script src="/runtime~main.4b19f06f.js"></script>
<script src="/main.92fa72cf.js"></script>
<script src="/1.ecb7a31a.js"></script>
<script src="/2.a5b9cff6.js"></script>
<script src="/1be78505.e74d1890.js"></script>
<script src="/41.70b25afb.js"></script>
<script src="/935f2afb.0e16e209.js"></script>
<script src="/40.f3aed6ae.js"></script>
<script src="/7be915c8.e45757d3.js"></script>
</body>
</html>